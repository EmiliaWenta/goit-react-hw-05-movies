{"version":3,"file":"static/js/466.0e5a6273.chunk.js","mappings":"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","sources":["consts/theMoviesDB.js","Api/getMovieByQuery.js","webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["export const searchParams = new URLSearchParams({\n  api_key: process.env.REACT_APP_API_KEY,\n  language: 'en-US',\n});\n\nexport const searchParamsQuery = query => {\n  return new URLSearchParams({\n    api_key: process.env.REACT_APP_API_KEY,\n    language: 'en-US',\n    query: `${query}`,\n  });\n};\n\nexport const searchParamsPage = new URLSearchParams({\n  api_key: process.env.REACT_APP_API_KEY,\n  language: 'en-US',\n  page: 1,\n});\n\nexport const getTrendingMoviesURL =\n  'https://api.themoviedb.org/3/trending/movie/day';\n\nexport const getCastURL = id => {\n  return `https://api.themoviedb.org/3/movie/${id}/credits`;\n};\n\nexport const getReviewsURL = id => {\n  return `https://api.themoviedb.org/3/movie/${id}/reviews`;\n};\n\nexport const getMovieByQueryURL = `https://api.themoviedb.org/3/search/movie`;\n\nexport const getMoviesInfoURL = id => {\n  return `https://api.themoviedb.org/3/movie/${id}`;\n};\n","import axios from 'axios';\n\nimport { getMovieByQueryURL, searchParamsQuery } from '../consts/theMoviesDB';\n\nexport const getMovieByQuery = async query => {\n  const URL = getMovieByQueryURL;\n  const searchParams = searchParamsQuery(query);\n\n  const response = await axios.get(`${URL}?${searchParams}`);\n  const data = await response.data;\n  const movie = await data.results;\n\n  return movie;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__5L7s0\",\"form__button\":\"Movies_form__button__wS6DT\",\"form__input\":\"Movies_form__input__HVepI\",\"movieList\":\"Movies_movieList__UibTY\",\"movieList__Item\":\"Movies_movieList__Item__fmgG5\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getMovieByQuery } from '../Api/getMovieByQuery';\nimport { useSearchParams } from 'react-router-dom';\n\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [movieQuery, setMovieQuery] = useSearchParams();\n  const location = useLocation();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const form = e.currentTarget;\n    const query = form.elements.query.value;\n    setMovieQuery({ movieQuery: query });\n\n    form.reset();\n  }\n\n  useEffect(() => {\n    async function fetchMovies() {\n      const query = movieQuery.get('movieQuery');\n\n      if (!query) {\n        return;\n      }\n\n      const movies = await getMovieByQuery(query);\n      setMovies([...movies]);\n    }\n    fetchMovies();\n  }, [movieQuery]);\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} className={css.form}>\n        <input\n          name=\"query\"\n          className={css.form__input}\n          placeholder=\"Please enter the title of the movie\"\n        />\n        <button type=\"sumbit\" className={css.form__button}>\n          Search\n        </button>\n      </form>\n      <ul className={css.movieList}>\n        {movies?.map(movie => (\n          <li className={css.movieList__Item} key={movie.id}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location, id: `${movie.id}` }}\n              className={css.movieList__link}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["searchParams","URLSearchParams","api_key","process","language","searchParamsQuery","query","concat","searchParamsPage","page","getTrendingMoviesURL","getCastURL","id","getReviewsURL","getMovieByQueryURL","getMoviesInfoURL","getMovieByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","URL","response","data","movie","_context","prev","next","axios","sent","results","abrupt","stop","_x","apply","arguments","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","movieQuery","setMovieQuery","location","useLocation","_handleSubmit","_callee2","e","form","_context2","preventDefault","currentTarget","elements","value","reset","useEffect","_fetchMovies","get","_toConsumableArray","fetchMovies","_jsxs","children","onSubmit","className","css","_jsx","name","placeholder","type","map","Link","to","state","from","title"],"sourceRoot":""}