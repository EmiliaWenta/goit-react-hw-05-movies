{"version":3,"file":"static/js/466.7e172a12.chunk.js","mappings":"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","sources":["Api/getMovieByQuery.js","webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'b141a4401c51589da4a61f34ea996ae0';\n\nexport const getMovieByQuery = async query => {\n  const URL = 'https://api.themoviedb.org/3/search/movie';\n  const searchParams = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    query: query,\n  });\n\n  const response = await axios.get(`${URL}?${searchParams}`);\n  const data = await response.data;\n  const movie = await data.results;\n\n  return movie;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__5L7s0\",\"form__button\":\"Movies_form__button__wS6DT\",\"form__input\":\"Movies_form__input__HVepI\",\"movieList\":\"Movies_movieList__UibTY\",\"movieList__Item\":\"Movies_movieList__Item__fmgG5\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getMovieByQuery } from '../Api/getMovieByQuery';\nimport { useSearchParams } from 'react-router-dom';\n\nimport css from './Movies.module.css';\n\nexport const Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [movieQuery, setMovieQuery] = useSearchParams();\n  const location = useLocation();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const form = e.currentTarget;\n    const query = form.elements.query.value;\n    setMovieQuery({ movieQuery: query });\n\n    form.reset();\n  }\n\n  useEffect(() => {\n    async function fetchMovies() {\n      const query = movieQuery.get('movieQuery');\n\n      if (!query) {\n        return;\n      }\n\n      const movies = await getMovieByQuery(query);\n      setMovies([...movies]);\n    }\n    fetchMovies();\n  }, [movieQuery]);\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} className={css.form}>\n        <input\n          name=\"query\"\n          className={css.form__input}\n          placeholder=\"Please enter the title of the movie\"\n        />\n        <button type=\"sumbit\" className={css.form__button}>\n          Search\n        </button>\n      </form>\n      <ul className={css.movieList}>\n        {movies?.map(movie => (\n          <li className={css.movieList__Item} key={movie.id}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location, id: `${movie.id}` }}\n              className={css.movieList__link}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n"],"names":["getMovieByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","query","searchParams","response","data","movie","_context","prev","next","URLSearchParams","api_key","language","axios","concat","sent","results","abrupt","stop","_x","apply","arguments","Movies","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","movieQuery","setMovieQuery","location","useLocation","_handleSubmit","_callee2","e","form","_context2","preventDefault","currentTarget","elements","value","reset","useEffect","_fetchMovies","get","_toConsumableArray","fetchMovies","_jsxs","children","onSubmit","className","css","_jsx","name","placeholder","type","map","Link","to","id","state","from","title"],"sourceRoot":""}